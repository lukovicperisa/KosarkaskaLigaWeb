<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:a="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <ui:include src="importi.xhtml"/>
    </h:head>
    <h:body>
        <div class="container">
            <ui:include src="header.xhtml"/>

            <div class="page-headline">
                <h:outputText value="#{msg['league.registration']}" />
            </div>
            <div class="register">
                <div class="success-message">
                    <h:inputHidden id="seasonStatus"/>
                    <h:message for="seasonStatus"/>
                </div>
                <h:form>
                    <div class="registration-section">
                        <label for="leagueName">#{msg['league.registration.name']}</label>
                        <h:inputText id="leagueName" value="#{mbSezona.trenutnaSezona.nazivLige}" validatorMessage="#{msg['validation.league.name.message']}"
                                     a:placeholder="#{msg['league.registration.name.placeholder']}">
                            <f:validateRequired/>
                        </h:inputText>
                        <h:message class="validation-message" for="leagueName"/>
                    </div>
                    <div class="registration-section">
                        <label for="startDate">#{msg['league.registration.date.beginning']}</label>
                        <h:inputText id="startDate" converter="#{datumKNV}" value="#{mbSezona.trenutnaSezona.datumPocetka}" a:placeholder="#{msg['league.registration.date.beginning.placeholder']}">
                            <f:convertDateTime pattern="yyyy-MM-dd"/>
                        </h:inputText>
                        <h:message class="validation-message" for="startDate"/>
                    </div>
                    <div class="registration-section">
                        <label for="endDate">#{msg['league.registration.date.end']}</label>
                        <h:inputText id="endDate" converter="#{datumKNV}" value="#{mbSezona.trenutnaSezona.datumZavrsetka}" a:placeholder="#{msg['league.registration.date.end.placeholder']}">
                            <f:convertDateTime pattern="yyyy-MM-dd"/>
                        </h:inputText>
                        <h:message class="validation-message" for="endDate"/>
                    </div>  
                   <div class="registration-section">
                        <label for="system">#{msg['league.registration.round.system']}</label>
                        <h:selectOneMenu id="system" value ="#{mbSezona.trenutnaSezona.sistem}">
                            <f:selectItem itemLabel="#{msg['league.registration.round.system.option.single']}" itemValue="#{msg['league.registration.round.system.option.single.value']}" />
                            <f:selectItem itemLabel="#{msg['league.registration.round.system.option.double']}" itemValue="#{msg['league.registration.round.system.option.double.value']}" />
                        </h:selectOneMenu>
                    </div>
                    <div class="registration-section">
                        <label for="participants">#{msg['league.registration.participants']}</label>
                        <h:selectManyListbox id="participants" value ="#{mbSezona.klubovi}" converter="#{klubKNV}">
                            <f:selectItems value="#{mbKlub.klubovi}" var="klub" itemValue="#{klub}" itemLabel="#{klub.naziv}" />
                            <f:validator validatorId="ucesniciValidator"/>
                        </h:selectManyListbox>
                        <h:message class="validation-message" for="participants"/>
                    </div>
                    <f:event listener="#{mbSezona.validirajDatume}" type="postValidate"/>
                    <h:commandButton action="#{mbSezona.sacuvaj()}" value="#{msg['league.registration.save']}"/>
                </h:form>
            </div>

            <ui:include src="footer.xhtml"/>
        </div>        
    </h:body>
</html>